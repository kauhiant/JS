<html>
<head>
<title>
OOXX
</title>
</head>
<body>
    


	<div id="f">
  
	</div>

	<p id="demo"></p>

	<script>
		//生成9宮格
		var f=document.getElementById("f");
		for(var i=1;i<10;i++){
			f.innerHTML += "<button id='b" + i + "' onclick='clicked(" + i + ")'" + ">-</button>";
			if(i%3==0)f.innerHTML+="<br>";
		}
		//button array
		var b=[
			document.getElementById('b1'),
			document.getElementById('b2'),
			document.getElementById('b3'),
			document.getElementById('b4'),
			document.getElementById('b5'),
			document.getElementById('b6'),
			document.getElementById('b7'),
			document.getElementById('b8'),
			document.getElementById('b9')
		];
		//each button isChecked?
		var isCheck=[false,false,false,false,false,false,false,false,false];
		//O or X (true or false)
		var st=["","","","","","","","",""];
		//OX is game order now (O or X)
		var OX=true;
		//game over?
		var isWin=false;
		//when button clicking execute this
		function clicked(a){
		//if haven't winner  or  this button is not clicked
 		if(!isWin && !isCheck[a-1]){
		    //change this button to O or X
			b[a-1].innerHTML=(OX)?"O":"X";
			st[a-1]=OX;
			//change order
			OX=!OX;
			//check this button is choosed
			isCheck[a-1]=true;
			
			
			//判斷是否勝利
			if(st[0]!=="" && st[0] === st[1] && st[1] === st[2])isWin=true;
			if(st[3]!=="" && st[3] === st[4] && st[4] === st[5])isWin=true;
			if(st[6]!=="" && st[6] === st[7] && st[7] === st[8])isWin=true;
			if(st[0]!=="" && st[0] === st[3] && st[3] === st[6])isWin=true;
			if(st[1]!=="" && st[1] === st[4] && st[4] === st[7])isWin=true;
			if(st[2]!=="" && st[2] === st[5] && st[5] === st[8])isWin=true;
			if(st[0]!=="" && st[0] === st[4] && st[4] === st[8])isWin=true;
			if(st[2]!=="" && st[2] === st[4] && st[4] === st[6])isWin=true;
			
			if(isWin)document.getElementById('demo').innerHTML="<h3>Win</h3>";
			}
			//"lalalalala" by kauhiant
		}
</script>
	
</body>
</html>